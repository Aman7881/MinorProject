<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calm or Chaos - Stress Quiz</title>

    <!-- Internal CSS -->
    <style>
        /* General Body Styling */
        body {
            font-family: 'Times New Roman', Times, serif;
            margin: 0;
            padding: 0;
            background-color: #f0f4f8;
            color: #050404;
            padding: 20px;
            text-align: center;
            font-size:medium;
        }

        /* Quiz Container */
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0px 6px 20px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #2d3436;
            font-size: 36px;
            margin-bottom: 20px;
        }

        p {
            font-size: 20px;
            margin-bottom: 30px;
            color: #003366;
        }

        .question {
            margin-bottom: 20px;
            text-align: left;
        }

        .question label {
            display: block;
            font-size: 20px;
            margin-bottom: 10px;
        }

        .question input[type="radio"] {
            margin-right: 10px;
        }

        /* Submit Button */
        .submit-btn {
            background-color: #0984e3;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            text-decoration: none;
        }

        .submit-btn:hover {
            background-color: #74b9ff;
        }
    </style>
</head>
<body>

    <!-- Quiz Container -->
    <div class="quiz-container">
        <h1>Perceived Stress Scale (PSS) Quiz</h1>
        <p><strong><b>Answer the following questions based on how you have felt over the past month. Your responses will help us evaluate your current stress level.</b></strong></p>

        <form id="quizForm" onsubmit="return calculateResult()">
            <!-- Question 1 -->
            <div class="question">
                <label for="q1">1. In the last month, how often have you been upset because of something that happened unexpectedly?</label>
                <input type="radio" name="q1" value="4" required> Very Often<br>
                <input type="radio" name="q1" value="3"> Fairly Often<br>
                <input type="radio" name="q1" value="2"> Sometimes<br>
                <input type="radio" name="q1" value="1"> Almost Never<br>
                <input type="radio" name="q1" value="0"> Never<br>
            </div>

            <!-- Question 2 -->
            <div class="question">
                <label for="q2">2. In the last month, how often have you felt unable to control the important things in your life?</label>
                <input type="radio" name="q2" value="4" required> Very Often<br>
                <input type="radio" name="q2" value="3"> Fairly Often<br>
                <input type="radio" name="q2" value="2"> Sometimes<br>
                <input type="radio" name="q2" value="1"> Almost Never<br>
                <input type="radio" name="q2" value="0"> Never<br>
            </div>

            <!-- Question 3 (Positively worded, requires reverse scoring) -->
            <div class="question">
                <label for="q3">3. In the last month, how often have you felt confident about your ability to handle your personal problems?</label>
                <input type="radio" name="q3" value="0" required> Very Often<br>
                <input type="radio" name="q3" value="1"> Fairly Often<br>
                <input type="radio" name="q3" value="2"> Sometimes<br>
                <input type="radio" name="q3" value="3"> Almost Never<br>
                <input type="radio" name="q3" value="4"> Never<br>
            </div>

            <!-- Question 4 -->
            <div class="question">
                <label for="q4">4. In the last month, how often have you felt nervous and “stressed”?</label>
                <input type="radio" name="q4" value="4" required> Very Often<br>
                <input type="radio" name="q4" value="3"> Fairly Often<br>
                <input type="radio" name="q4" value="2"> Sometimes<br>
                <input type="radio" name="q4" value="1"> Almost Never<br>
                <input type="radio" name="q4" value="0"> Never<br>
            </div>

            <!-- Question 5 (Positively worded, requires reverse scoring) -->
            <div class="question">
                <label for="q5">5. In the last month, how often have you felt that things were going your way?</label>
                <input type="radio" name="q5" value="0" required> Very Often<br>
                <input type="radio" name="q5" value="1"> Fairly Often<br>
                <input type="radio" name="q5" value="2"> Sometimes<br>
                <input type="radio" name="q5" value="3"> Almost Never<br>
                <input type="radio" name="q5" value="4"> Never<br>
            </div>

            <!-- Question 6 -->
            <div class="question">
                <label for="q6">6. In the last month, how often have you found it difficult to cope with all the things you had to do?</label>
                <input type="radio" name="q6" value="4" required> Very Often<br>
                <input type="radio" name="q6" value="3"> Fairly Often<br>
                <input type="radio" name="q6" value="2"> Sometimes<br>
                <input type="radio" name="q6" value="1"> Almost Never<br>
                <input type="radio" name="q6" value="0"> Never<br>
            </div>

            <!-- Question 7 -->
            <div class="question">
                <label for="q7">7. In the last month, how often have you been angered because of things that were outside of your control?</label>
                <input type="radio" name="q7" value="4" required> Very Often<br>
                <input type="radio" name="q7" value="3"> Fairly Often<br>
                <input type="radio" name="q7" value="2"> Sometimes<br>
                <input type="radio" name="q7" value="1"> Almost Never<br>
                <input type="radio" name="q7" value="0"> Never<br>
            </div>

            <!-- Question 8 (Positively worded, requires reverse scoring) -->
            <div class="question">
                <label for="q8">8. In the last month, how often have you felt on top of things?</label>
                <input type="radio" name="q8" value="0" required> Very Often<br>
                <input type="radio" name="q8" value="1"> Fairly Often<br>
                <input type="radio" name="q8" value="2"> Sometimes<br>
                <input type="radio" name="q8" value="3"> Almost Never<br>
                <input type="radio" name="q8" value="4"> Never<br>
            </div>

            <!-- Question 9 -->
            <div class="question">
                <label for="q9">9. In the last month, how often have you felt difficulties were piling up so high that you could not overcome them?</label>
                <input type="radio" name="q9" value="4" required> Very Often<br>
                <input type="radio" name="q9" value="3"> Fairly Often<br>
                <input type="radio" name="q9" value="2"> Sometimes<br>
                <input type="radio" name="q9" value="1"> Almost Never<br>
                <input type="radio" name="q9" value="0"> Never<br>
            </div>

            <!-- Question 10 (Positively worded, requires reverse scoring) -->
            <div class="question">
                <label for="q10">10. In the last month, how often have you felt confident that you could handle your personal life?</label>
                <input type="radio" name="q10" value="0" required> Very Often<br>
                <input type="radio" name="q10" value="1"> Fairly Often<br>
                <input type="radio" name="q10" value="2"> Sometimes<br>
                <input type="radio" name="q10" value="3"> Almost Never<br>
                <input type="radio" name="q10" value="4"> Never<br>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="submit-btn">Submit Quiz</button>
        </form>
    </div>

    <!-- JavaScript to Calculate the Quiz Result -->
    <script>
        function calculateResult() {
            // Get all the form values
            const form = document.forms['quizForm'];
            const responses = [];

            // Collect responses from each question (q1 to q10)
            for (let i = 1; i <= 10; i++) {
                const response = form['q' + i].value;
                responses.push(parseInt(response));
            }

            // Reverse score for positively worded questions (q3, q5, q8, q10)
            const reverseScoredIndices = [2, 4, 7, 9];  // These indices correspond to q3, q5, q8, q10
            const reversedResponses = responses.map((response, index) => {
                if (reverseScoredIndices.includes(index)) {
                    return 4 - response;  // Reverse scoring for positive questions
                }
                return response;  // Negative questions remain the same
            });

            // Calculate the total score
            const totalScore = reversedResponses.reduce((total, current) => total + current, 0);

            // Determine the stress level
            let result = "";
            if (totalScore <= 13) {
                result = "Normal";
            } else if (totalScore >= 14 && totalScore <= 26) {
                result = "Moderate";
            } else {
                result = "High";
            }

            // Redirect to result.html with the score and stress level as query parameters
            window.location.href = `result.html?score=${totalScore}&result=${result}`;
            return false; // Prevent form submission
        }
    </script>

</body>
</html>
